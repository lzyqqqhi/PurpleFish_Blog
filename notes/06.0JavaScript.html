<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript基础总结 | PurpleFish’s Blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="这是一个基于 VuePress 的博客">
    
    <link rel="preload" href="/PurpleFish_Blog/assets/css/0.styles.2b0a0130.css" as="style"><link rel="preload" href="/PurpleFish_Blog/assets/js/app.ff8256e3.js" as="script"><link rel="preload" href="/PurpleFish_Blog/assets/js/2.43a24c62.js" as="script"><link rel="preload" href="/PurpleFish_Blog/assets/js/1.6ee28ae7.js" as="script"><link rel="preload" href="/PurpleFish_Blog/assets/js/52.37cbc86f.js" as="script"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/10.b04fc0d4.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/11.5a32c356.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/12.6311bbb4.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/13.9f626855.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/14.2a433a45.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/15.f4a73f35.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/16.0da34392.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/17.4ae81fed.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/18.1198418d.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/19.9efc8374.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/20.5d622c1c.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/21.8daff977.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/22.125fbbec.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/23.51842491.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/24.d29f9239.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/25.50b537e5.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/26.a7803a32.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/27.3a646cab.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/28.0f04383d.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/29.516bbd6e.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/3.a5bdcc19.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/30.0c3e2a58.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/31.c55b1b7b.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/32.6f42b27f.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/33.5630dc9b.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/34.506ccca3.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/35.525f91fc.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/36.3ed31312.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/37.e0c7ab78.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/38.94c28a78.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/39.0f6ab893.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/4.17635ff9.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/40.31380cbc.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/41.7862120c.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/42.e1b28fea.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/43.bba45c93.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/44.f543bcf0.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/45.b3468082.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/46.ce165ee3.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/47.cd346d62.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/48.f34fd7c9.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/49.04a56087.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/5.bb8f33b7.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/50.944cf170.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/51.875167a9.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/53.afa7aef4.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/54.f01744cd.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/55.bf004fec.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/56.86541d80.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/57.851b13ff.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/58.9979010b.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/59.80a18be0.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/6.46359932.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/60.3913a449.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/61.95d9a272.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/62.5e28c5de.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/63.23644217.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/64.e291cd20.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/7.720220fb.js"><link rel="prefetch" href="/PurpleFish_Blog/assets/js/vendors~docsearch.94b65286.js">
    <link rel="stylesheet" href="/PurpleFish_Blog/assets/css/0.styles.2b0a0130.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/PurpleFish_Blog/" class="home-link router-link-active"><!----> <span class="site-name">PurpleFish’s Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/PurpleFish_Blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/PurpleFish_Blog/notes/" class="nav-link router-link-active">
  笔记
</a></div><div class="nav-item"><a href="/PurpleFish_Blog/articles/" class="nav-link">
  文章
</a></div><div class="nav-item"><a href="/PurpleFish_Blog/projects/" class="nav-link">
  项目集
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/PurpleFish_Blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/PurpleFish_Blog/notes/" class="nav-link router-link-active">
  笔记
</a></div><div class="nav-item"><a href="/PurpleFish_Blog/articles/" class="nav-link">
  文章
</a></div><div class="nav-item"><a href="/PurpleFish_Blog/projects/" class="nav-link">
  项目集
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript基础总结</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#语言类型" class="sidebar-link">语言类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#_7种数据类型" class="sidebar-link">7种数据类型</a></li><li class="sidebar-sub-header"><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#类型检测" class="sidebar-link">类型检测</a></li><li class="sidebar-sub-header"><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#js精度" class="sidebar-link">JS精度</a></li><li class="sidebar-sub-header"><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#object-keys-for-in-for-of" class="sidebar-link">Object.keys，for...in ，for...of</a></li><li class="sidebar-sub-header"><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#_1-object-keys" class="sidebar-link">1. `Object.keys`</a></li><li class="sidebar-sub-header"><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#_3-for-of" class="sidebar-link">3. `for...of`</a></li><li class="sidebar-sub-header"><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#总结-2" class="sidebar-link">总结</a></li></ul></li><li><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#vue2响应式数据监听原理" class="sidebar-link">Vue2响应式数据监听原理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#原型链" class="sidebar-link">原型链</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#执行上下文和执行栈" class="sidebar-link">执行上下文和执行栈</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#javascript-事件循环" class="sidebar-link">JavaScript 事件循环</a></li></ul></li><li><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#reference-类型" class="sidebar-link">Reference 类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#其他规范类型简介" class="sidebar-link">其他规范类型简介</a></li></ul></li><li><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#javascript-事件流" class="sidebar-link">JavaScript 事件流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#vue中对应修饰符" class="sidebar-link">vue中对应修饰符</a></li></ul></li><li><a href="/PurpleFish_Blog/notes/06.0JavaScript.html#函数柯里化" class="sidebar-link">函数柯里化</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript基础总结"><a href="#javascript基础总结" class="header-anchor">#</a> JavaScript基础总结</h1> <h2 id="语言类型"><a href="#语言类型" class="header-anchor">#</a> 语言类型</h2> <h3 id="_7种数据类型"><a href="#_7种数据类型" class="header-anchor">#</a> 7种数据类型</h3> <h5 id="undefined"><a href="#undefined" class="header-anchor">#</a> undefined</h5> <ul><li><p>表示未定义的值</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">let</span> a<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div></li></ul> <h5 id="null"><a href="#null" class="header-anchor">#</a> null</h5> <ul><li><p>表示空值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
</code></pre></div></li></ul> <h5 id="boolean"><a href="#boolean" class="header-anchor">#</a> Boolean</h5> <ul><li><p>表示布尔值，true 或 false</p> <div class="language- extra-class"><pre class="language-text"><code>let c = true;
console.log(c); // true
</code></pre></div></li></ul> <h5 id="string"><a href="#string" class="header-anchor">#</a> String</h5> <ul><li><p>表示字符串</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token string">&quot;Hello, World!&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Hello, World!&quot;</span>
</code></pre></div></li></ul> <h5 id="number"><a href="#number" class="header-anchor">#</a> Number</h5> <ul><li><p>表示数值，包括整数和浮点数</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42, 3.14</span>
</code></pre></div></li></ul> <h5 id="symbol"><a href="#symbol" class="header-anchor">#</a> Symbol</h5> <ul><li><p>ES6 新增，<strong>表示唯一的符号值</strong></p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'sym'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Symbol('sym')</span>
</code></pre></div></li></ul> <h5 id="object"><a href="#object" class="header-anchor">#</a> Object</h5> <ul><li><p>表示对象，包括数组、函数等</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> h <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: &quot;Alice&quot;, age: 30 }</span>
</code></pre></div></li></ul> <h3 id="类型检测"><a href="#类型检测" class="header-anchor">#</a> 类型检测</h3> <p>可以使用 <code>typeof</code> 和 <code>instanceof</code> 操作符来检测数据类型：</p> <ul><li><p><strong>typeof</strong>：</p> <ul><li><div class="language-JavaScript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;object&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;boolean&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;string&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;number&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> g<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;symbol&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;object&quot;</span>
</code></pre></div></li></ul></li> <li><p><strong>instanceof</strong>（主要用于对象类型）：</p> <ul><li><div class="language-JavaScript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div></li></ul></li></ul> <h3 id="js精度"><a href="#js精度" class="header-anchor">#</a> JS精度</h3> <h4 id="javascript-的-number-类型"><a href="#javascript-的-number-类型" class="header-anchor">#</a> JavaScript 的 Number 类型</h4> <ul><li><strong>整数精度边界</strong>：
<ul><li>最大安全整数：253−1，即 <strong>9007199254740991</strong>。</li> <li>超过这个值时，整数会丢失精度。</li></ul></li> <li><strong>浮点数范围</strong>：
<ul><li>最大值：±1.7976931348623157×10308。</li> <li>最小正数：5×10−324。</li> <li>超过最大值时会变成 <strong>Infinity</strong> 或 <strong>-Infinity</strong>，小于最小正数时会变成 <strong>0</strong>。</li></ul></li></ul> <h4 id="java-的数据类型"><a href="#java-的数据类型" class="header-anchor">#</a> Java 的数据类型</h4> <ul><li><strong>Long 类型</strong>：
<ul><li>64 位整数。</li> <li>范围：−263 到 263−1。</li></ul></li> <li><strong>Short 类型</strong>：
<ul><li>16 位整数。</li> <li>范围：−215 到 215−1。</li></ul></li> <li><strong>Float 类型</strong>：
<ul><li>32 位浮点数。</li> <li>范围：±3.4028234663852886×1038。</li></ul></li></ul> <h4 id="c-的数据类型"><a href="#c-的数据类型" class="header-anchor">#</a> C++ 的数据类型</h4> <ul><li><strong>Long 类型</strong>：
<ul><li>64 位整数。</li> <li>范围：−263 到 263−1。</li></ul></li> <li><strong>Short 类型</strong>：
<ul><li>16 位整数。</li> <li>范围：−215 到 215−1。</li></ul></li> <li><strong>Float 类型</strong>：
<ul><li>32 位浮点数。</li> <li>范围：±3.4028234663852886×1038。</li></ul></li></ul> <h4 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h4> <ul><li><strong>JavaScript</strong>：整数在超过 253−1 时丢失精度，浮点数范围较宽但精度有限。</li> <li><strong>Java 和 C++</strong>：Long 类型范围宽广，适合大整数运算；Short 类型适合小整数；Float 类型适合精度要求不高的浮点运算。</li></ul> <h3 id="object-keys-for-in-for-of"><a href="#object-keys-for-in-for-of" class="header-anchor">#</a> <code>Object.keys，for...in ，for...of</code></h3> <h3 id="_1-object-keys"><a href="#_1-object-keys" class="header-anchor">#</a> 1. <strong><code>Object.keys</code></strong></h3> <ul><li><p><strong>用途</strong>：<code>Object.keys</code> 是一个方法，它返回一个由给定对象的自身可枚举属性组成的数组。</p></li> <li><p><strong>返回值</strong>：返回的是一个数组，包含对象的键名。</p></li> <li><p><strong>特点</strong>：</p> <ul><li>只能用于对象，不能直接用于数组。</li> <li>只会返回对象的<strong>自身可枚举属性</strong>，不会返回继承的属性。</li> <li>返回值是一个数组，可以使用数组的方法（如 <code>map</code>、<code>forEach</code> 等）进一步处理。</li></ul></li> <li><p><strong>示例</strong>：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
</code></pre></div></li></ul> <p>console.log(keys); // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
keys.forEach(key =&gt; {
console.log(key, obj[key]); // 输出键和对应的值
});</p> <div class="language- extra-class"><pre class="language-text"><code>
### 2. **`for...in`**
- **用途**：`for...in` 是一个循环语句，用于遍历对象的可枚举属性。
- **特点**：
- 可以遍历对象的**自身属性和继承属性**（只要它们是可枚举的）。
- 主要用于对象，但也可以用于数组（尽管这不是推荐的用法）。
- 遍历顺序可能会因浏览器和 JavaScript 引擎而有所不同。
- **示例**：

```javascript
const obj = { a: 1, b: 2, c: 3 };
for (let key in obj) {
  console.log(key, obj[key]); // 输出键和对应的值
}
// 如果对象有继承属性也会被遍历
const parent = { x: 10 };
const child = Object.create(parent);
child.y = 20;
for (let key in child) {
  console.log(key, child[key]); // 输出 &quot;y 20&quot; 和 &quot;x 10&quot;
}
</code></pre></div><h3 id="_3-for-of"><a href="#_3-for-of" class="header-anchor">#</a> 3. <strong><code>for...of</code></strong></h3> <ul><li><strong>用途</strong>：<code>for...of</code> 是一个循环语句，用于遍历可迭代对象（如数组、字符串、<code>Map</code>、<code>Set</code> 等）。</li> <li><strong>特点</strong>：
<ul><li>不能直接用于普通对象（除非对象实现了 <code>Symbol.iterator</code>）。</li> <li>只能遍历对象的值，不能直接获取键。</li> <li>主要用于数组、字符串等可迭代对象。</li></ul></li> <li><strong>示例</strong>：<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 1, 2, 3</span>
<span class="token punctuation">}</span>

<span class="token comment">// 对于对象，需要先将其转换为可迭代形式</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出键和对应的值</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h3 id="总结-2"><a href="#总结-2" class="header-anchor">#</a> <strong>总结</strong></h3> <table><thead><tr><th>特点</th> <th><code>Object.keys</code></th> <th><code>for...in</code></th> <th><code>for...of</code></th></tr></thead> <tbody><tr><td><strong>用途</strong></td> <td>获取对象的键名数组</td> <td>遍历对象的可枚举属性</td> <td>遍历可迭代对象的值</td></tr> <tr><td><strong>返回值</strong></td> <td>键名数组</td> <td>无，直接遍历</td> <td>无，直接遍历</td></tr> <tr><td><strong>是否包括继承属性</strong></td> <td>不包括</td> <td>包括</td> <td>不适用（不直接用于对象）</td></tr> <tr><td><strong>适用对象</strong></td> <td>对象</td> <td>对象、数组（不推荐）</td> <td>数组、字符串、<code>Map</code>、<code>Set</code> 等</td></tr> <tr><td><strong>遍历顺序</strong></td> <td>不保证顺序</td> <td>不保证顺序</td> <td>数组按索引顺序，其他对象视实现而定</td></tr></tbody></table> <p>在实际开发中，可以根据需求选择合适的方法：</p> <ul><li>如果需要获取对象的键名数组，使用 <code>Object.keys</code>。</li> <li>如果需要遍历对象的所有可枚举属性（包括继承的），使用 <code>for...in</code>。</li> <li>如果需要遍历数组或其他可迭代对象的值，使用 <code>for...of</code>。</li></ul> <h2 id="vue2响应式数据监听原理"><a href="#vue2响应式数据监听原理" class="header-anchor">#</a> Vue2响应式数据监听原理</h2> <h4 id="_1-核心机制"><a href="#_1-核心机制" class="header-anchor">#</a> 1. 核心机制</h4> <p>Vue 2 使用 JavaScript 的 <code>Object.defineProperty</code> 方法实现数据的响应式监听。通过拦截对象属性的读取和设置操作，Vue 能够在数据发生变化时自动触发更新视图的操作。</p> <h4 id="_2-关键实现方法"><a href="#_2-关键实现方法" class="header-anchor">#</a> 2. 关键实现方法</h4> <ul><li><strong><code>Object.defineProperty</code></strong>：
<ul><li>用于定义或修改对象的属性。</li> <li>可以通过 <code>get</code> 和 <code>set</code> 方法拦截属性的读取和设置操作。</li> <li>是 Vue 2 实现数据响应式的核心。</li></ul></li></ul> <h4 id="_3-实现步骤"><a href="#_3-实现步骤" class="header-anchor">#</a> 3. 实现步骤</h4> <ol><li><p><strong>遍历对象属性</strong>：</p> <ul><li>使用 <code>Object.keys</code> 遍历对象的所有属性。</li> <li>对每个属性调用 <code>defineReactive</code> 方法。</li></ul></li> <li><p><strong>递归处理嵌套对象</strong>：</p> <ul><li>如果属性值是对象，则递归调用 <code>observe</code> 方法，使其内部属性也响应式。</li></ul></li> <li><p><strong>拦截属性操作</strong>：</p> <ul><li>使用 <code>Object.defineProperty</code> 定义属性的 <code>get</code> 和 <code>set</code> 方法。</li> <li>在 <code>set</code> 方法中，当属性值发生变化时，触发绑定的回调函数。</li></ul></li></ol> <h4 id="_4-示例代码"><a href="#_4-示例代码" class="header-anchor">#</a> 4. 示例代码</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">observe</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">defineReactive</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">observe</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveGetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveSetter</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">===</span> value<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
      value <span class="token operator">=</span> newVal<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> newVal <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">observe</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">callback</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 测试代码</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Kimi&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">25</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">observe</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> newValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">属性 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 的值被修改为 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newValue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

data<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Alice&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 输出：属性 name 的值被修改为 Alice</span>
data<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">// 输出：属性 age 的值被修改为 30</span>
</code></pre></div><h4 id="_5-注意事项"><a href="#_5-注意事项" class="header-anchor">#</a> 5. 注意事项</h4> <ul><li><p><strong>动态属性监听</strong>：</p> <ul><li><code>Object.defineProperty</code> 只能拦截已存在的属性。</li> <li>如果动态添加新属性，需要手动调用 <code>observe</code> 函数使其响应式。</li></ul></li> <li><p><strong>性能限制</strong>：</p> <ul><li>对于大型对象或频繁更新的场景，<code>Object.defineProperty</code> 的性能可能受限。</li></ul></li> <li><p><strong>Vue 3 的改进</strong>：</p> <ul><li>Vue 3 使用 <code>Proxy</code> API 替代 <code>Object.defineProperty</code>。</li> <li><code>Proxy</code> 提供了更强大的拦截能力，支持动态属性的监听。</li></ul></li></ul> <h4 id="_7-object-defineproperty-的属性描述符"><a href="#_7-object-defineproperty-的属性描述符" class="header-anchor">#</a> 7. <code>Object.defineProperty</code> 的属性描述符</h4> <p>在 <code>Object.defineProperty</code> 中，可以通过属性描述符（property descriptor）来定义或修改对象属性的行为。常见的属性描述符包括 <code>writable</code>、<code>enumerable</code> 和 <code>configurable</code>，它们分别控制属性的不同行为：</p> <ul><li><strong><code>writable</code></strong>：
<ul><li><strong>功能</strong>：控制属性值是否可以被修改。</li> <li><strong>值</strong>：
<ul><li><code>true</code>：属性值可以被修改。</li> <li><code>false</code>：属性值不可修改，尝试修改时会报错（严格模式下）或无效（非严格模式下）。【默认】</li></ul></li> <li><strong>应用场景</strong>：
<ul><li>在 Vue 中，响应式属性通常设置为 <code>writable: true</code>，以便允许用户修改数据。</li> <li>如果需要定义一个只读属性，可以设置为 <code>writable: false</code>。</li></ul></li></ul></li> <li><strong><code>enumerable</code></strong>：
<ul><li><strong>功能</strong>：控制属性是否可以被枚举（即是否可以通过 <code>for...in</code> 或 <code>Object.keys</code> 等方法遍历到）。</li> <li><strong>值</strong>：
<ul><li><code>true</code>：属性可以被枚举。</li> <li><code>false</code>：属性不可枚举，不会出现在 <code>for...in</code> 或 <code>Object.keys</code> 的结果中。【默认】</li></ul></li> <li><strong>应用场景</strong>：
<ul><li>在 Vue 中，响应式属性通常设置为 <code>enumerable: true</code>，以便在模板中可以访问这些属性。</li> <li>如果某些属性是内部使用的，不希望暴露给用户，可以设置为 <code>enumerable: false</code>。</li></ul></li></ul></li> <li><strong><code>configurable</code></strong>：
<ul><li><strong>功能</strong>：控制属性是否可以被重新定义或删除。</li> <li><strong>值</strong>：
<ul><li><code>true</code>：属性可以被重新定义（如修改 <code>writable</code>、<code>enumerable</code> 等描述符）或删除。</li> <li><code>false</code>：属性不可重新定义，也不可删除。【默认】</li></ul></li> <li><strong>应用场景</strong>：
<ul><li>在 Vue 中，响应式属性通常设置为 <code>configurable: true</code>，以便在必要时可以重新定义属性（例如动态添加或删除响应式属性）。</li> <li>如果某些属性是固定的，不希望被修改或删除，可以设置为 <code>configurable: false</code>。</li></ul></li></ul></li></ul> <h2 id="原型链"><a href="#原型链" class="header-anchor">#</a> 原型链</h2> <h4 id="_1-原型链基础"><a href="#_1-原型链基础" class="header-anchor">#</a> 1. 原型链基础</h4> <ul><li><strong>原型链</strong>：JavaScript 中对象的属性和方法继承机制，通过内部属性 <code>[[Prototype]]</code> 实现。</li> <li><strong><code>__proto__</code></strong>：指向对象的原型（即 <code>[[Prototype]]</code>），用于访问原型上的属性和方法。</li></ul> <h4 id="_2-函数与原型"><a href="#_2-函数与原型" class="header-anchor">#</a> 2. 函数与原型</h4> <ul><li><strong>函数的 <code>prototype</code> 属性</strong>：每个函数都有一个 <code>prototype</code> 属性，指向一个对象，该对象包含可以被该函数的所有实例共享的属性和方法。</li> <li><strong>构造函数</strong>：使用 <code>new</code> 关键字调用的函数，其 <code>prototype</code> 属性用于定义实例的共享行为。</li></ul> <h4 id="_3-function-对象的特殊性"><a href="#_3-function-对象的特殊性" class="header-anchor">#</a> 3. <code>Function</code> 对象的特殊性</h4> <ul><li><strong><code>Function.prototype</code></strong>：所有函数的原型对象，即函数的 <code>__proto__</code> 指向 <code>Function.prototype</code>。</li> <li><strong>原型链顶端</strong>：<code>Function.prototype</code> 的 <code>__proto__</code> 指向 <code>Object.prototype</code>，因为函数也是对象。</li></ul> <h4 id="_4-object-对象的特殊性"><a href="#_4-object-对象的特殊性" class="header-anchor">#</a> 4. <code>Object</code> 对象的特殊性</h4> <ul><li><strong><code>Object.prototype</code></strong>：所有对象的原型对象，几乎所有对象的 <code>__proto__</code> 最终都指向 <code>Object.prototype</code>。</li> <li><strong>原型链终点</strong>：<code>Object.prototype</code> 的 <code>__proto__</code> 指向 <code>null</code>，表示原型链的结束。</li></ul> <h4 id="_5-object-构造函数"><a href="#_5-object-构造函数" class="header-anchor">#</a> 5. <code>Object()</code> 构造函数</h4> <ul><li><strong>创建对象</strong>：<code>Object()</code> 构造函数用于创建新的对象实例。</li> <li><strong>默认行为</strong>：如果 <code>Object()</code> 构造函数不接收任何参数，它将创建一个空对象 <code>{}</code>。</li></ul> <h4 id="_6-原型链中的特殊情况"><a href="#_6-原型链中的特殊情况" class="header-anchor">#</a> 6. 原型链中的特殊情况</h4> <ul><li><strong>函数实例</strong>：函数作为对象时，其 <code>__proto__</code> 指向 <code>Function.prototype</code>。</li> <li><strong>对象实例</strong>：对象作为实例时，其 <code>__proto__</code> 指向其构造函数的 <code>prototype</code> 属性。</li></ul> <h4 id="_7-原型链的访问示例"><a href="#_7-原型链的访问示例" class="header-anchor">#</a> 7. 原型链的访问示例</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Foo<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：true</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：true</span>
</code></pre></div><h4 id="_8-tostring-和-hasownproperty-方法"><a href="#_8-tostring-和-hasownproperty-方法" class="header-anchor">#</a> 8. <code>toString()</code> 和 <code>hasOwnProperty()</code> 方法</h4> <ul><li><strong><code>toString()</code></strong>：返回对象的字符串表示形式，默认为 <code>[object Type]</code>，其中 <code>Type</code> 是对象的类型。</li> <li><strong><code>hasOwnProperty()</code></strong>：检查对象是否具有指定的自有属性，返回 <code>true</code> 或 <code>false</code>。</li></ul> <h4 id="_9-重写-tostring-方法"><a href="#_9-重写-tostring-方法" class="header-anchor">#</a> 9. 重写 <code>toString()</code> 方法</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Name: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, Age: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Kimi'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：Name: Kimi, Age: 30</span>
</code></pre></div><h4 id="_10-总结"><a href="#_10-总结" class="header-anchor">#</a> 10. 总结</h4> <ul><li><strong>原型链</strong>：JavaScript 对象的属性和方法继承机制。</li> <li><strong><code>Function.prototype</code></strong>：所有函数的原型对象，其 <code>__proto__</code> 指向 <code>Object.prototype</code>。</li> <li><strong><code>Object.prototype</code></strong>：所有对象的原型对象，其 <code>__proto__</code> 指向 <code>null</code>。</li> <li><strong><code>Object()</code></strong>：用于创建新的对象实例，其行为类似于字面量 <code>{}</code>。</li></ul> <h2 id="执行上下文和执行栈"><a href="#执行上下文和执行栈" class="header-anchor">#</a> 执行上下文和执行栈</h2> <h4 id="执行上下文-execution-context"><a href="#执行上下文-execution-context" class="header-anchor">#</a> 执行上下文（Execution Context）</h4> <p>执行上下文是 JavaScript 代码执行的环境。它定义了变量或函数的可访问范围。主要有三种类型的执行上下文：</p> <ol><li><p><strong>全局执行上下文（Global Execution Context）</strong>：</p> <ul><li>代码开始执行时创建，代表整个脚本的全局环境。</li> <li>在浏览器中，全局对象是 <code>window</code>；在 Node.js 中是 <code>global</code>。</li></ul></li> <li><p><strong>函数执行上下文（Function Execution Context）</strong>：</p> <ul><li>每次调用函数时创建，代表函数的局部环境。</li> <li>包含函数的参数、局部变量、<code>this</code> 关键字和 <code>arguments</code> 对象。</li></ul></li> <li><p><strong>Eval 函数执行上下文（Eval Function Execution Context）</strong>：</p> <ul><li>由 <code>eval()</code> 函数调用创建，通常不推荐使用，因为它可能导致代码难以理解和维护。</li></ul></li></ol> <h4 id="执行栈-execution-stack"><a href="#执行栈-execution-stack" class="header-anchor">#</a> 执行栈（Execution Stack）</h4> <p>执行栈是一种后进先出（LIFO）的数据结构，用于管理执行上下文。它负责存储当前执行的上下文，并确保代码的有序执行。</p> <ol><li><p><strong>初始化</strong>：</p> <ul><li>程序开始时，全局执行上下文被推入执行栈。</li></ul></li> <li><p><strong>函数调用</strong>：</p> <ul><li>调用函数时，创建新的函数执行上下文并推入执行栈。</li> <li>函数执行完毕后，其执行上下文从执行栈中弹出，恢复到之前的执行上下文。</li></ul></li> <li><p><strong>异步操作</strong>：</p> <ul><li>异步操作（如回调函数、Promise）不会立即推入执行栈，而是在事件循环中等待，直到主线程空闲时才被推入。</li></ul></li></ol> <h4 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> z <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x <span class="token operator">+</span> y <span class="token operator">+</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>执行流程：</p> <ol><li>创建全局执行上下文，推入执行栈。</li> <li>调用 <code>foo()</code>，创建 <code>foo</code> 的执行上下文，推入执行栈。</li> <li>在 <code>foo</code> 中调用 <code>bar()</code>，创建 <code>bar</code> 的执行上下文，推入执行栈。</li> <li><code>bar</code> 执行，输出结果，弹出 <code>bar</code> 的执行上下文。</li> <li><code>foo</code> 执行完毕，弹出 <code>foo</code> 的执行上下文。</li> <li>全局执行上下文继续执行，完成后弹出。</li></ol> <h4 id="执行上下文和执行栈的重要性"><a href="#执行上下文和执行栈的重要性" class="header-anchor">#</a> 执行上下文和执行栈的重要性</h4> <h5 id="变量作用域-variable-scope"><a href="#变量作用域-variable-scope" class="header-anchor">#</a> 变量作用域（Variable Scope）</h5> <p>变量作用域是指在代码中变量可以被访问和修改的范围。在JavaScript中，作用域主要分为两种：</p> <ol><li><strong>全局作用域（Global Scope）</strong>：
<ul><li>在全局执行上下文中定义的变量，可以在整个程序的任何地方访问。</li> <li>例如，在浏览器中，全局作用域是 <code>window</code> 对象；在Node.js中，是 <code>global</code> 对象。</li></ul></li> <li><strong>局部作用域（Local Scope）</strong>：
<ul><li>在函数执行上下文中定义的变量，只能在该函数内部访问。</li> <li>函数内部的变量对于函数外部是不可见的，这有助于防止命名冲突和数据泄露。</li></ul></li> <li><strong>块级作用域（Block Scope）</strong>：
<ul><li>使用 <code>let</code> 和 <code>const</code> 关键字声明的变量具有块级作用域，即它们只能在声明它们的代码块（如 <code>if</code> 语句、<code>for</code> 循环等）内部访问。</li></ul></li></ol> <h5 id="函数调用-function-calls"><a href="#函数调用-function-calls" class="header-anchor">#</a> 函数调用（Function Calls）</h5> <p>函数调用涉及到创建和管理执行上下文的过程：</p> <ol><li><strong>创建执行上下文</strong>：
<ul><li>每次调用函数时，JavaScript引擎都会为该函数创建一个新的执行上下文。</li> <li>这个新的执行上下文包含了函数的参数、局部变量、<code>this</code> 绑定和 <code>arguments</code> 对象。</li></ul></li> <li><strong>执行上下文的堆叠</strong>：
<ul><li>当函数被调用时，它的执行上下文被推入执行栈。</li> <li>当函数执行完毕后，其执行上下文从执行栈中弹出，控制权返回到之前的执行上下文。</li></ul></li> <li><strong>变量环境和词法环境</strong>：
<ul><li>每个执行上下文都有自己的变量环境，其中包含了该上下文中定义的所有变量。</li> <li>词法环境是指变量在代码中定义时的作用域，它决定了变量的可访问性。</li></ul></li></ol> <h4 id="异步操作-asynchronous-operations"><a href="#异步操作-asynchronous-operations" class="header-anchor">#</a> 异步操作（Asynchronous Operations）</h4> <p>异步操作与执行栈和事件循环的交互：</p> <ol><li><strong>非阻塞行为</strong>：
<ul><li>异步操作不会阻塞执行栈，这意味着程序可以继续执行其他任务，而不需要等待异步操作完成。</li></ul></li> <li><strong>事件循环（Event Loop）</strong>：
<ul><li>事件循环是JavaScript运行时的一个核心机制，它不断地检查调用栈是否为空，并将回调队列中的异步操作推入调用栈执行。</li> <li>当异步操作（如网络请求、定时器等）完成时，它们的回调函数被放入回调队列。</li></ul></li> <li><strong>回调队列（Callback Queue）</strong>：
<ul><li>回调队列是事件循环中的一个队列，用于存储异步操作完成后的回调函数。</li> <li>当执行栈为空时，事件循环会将回调队列中的回调函数推入执行栈执行。</li></ul></li></ol> <h3 id="javascript-事件循环"><a href="#javascript-事件循环" class="header-anchor">#</a> JavaScript 事件循环</h3> <h4 id="基本概念"><a href="#基本概念" class="header-anchor">#</a> 基本概念</h4> <ul><li><strong>单线程模型</strong>：JavaScript 在单线程中运行，一次只能执行一个任务。</li> <li><strong>事件循环</strong>：允许 JavaScript 执行异步操作而不阻塞线程。</li></ul> <h4 id="关键组成部分"><a href="#关键组成部分" class="header-anchor">#</a> 关键组成部分</h4> <ul><li><strong>执行栈（Call Stack）</strong>：管理同步代码执行的栈结构。</li> <li><strong>回调队列（Callback Queue）/ 事件队列（Event Queue）</strong>：存储异步操作回调函数的队列。</li></ul> <h4 id="任务分类【异步任务子任务】"><a href="#任务分类【异步任务子任务】" class="header-anchor">#</a> 任务分类【异步任务子任务】</h4> <ul><li><strong>宏任务（Macro Tasks）</strong>：如 <code>setTimeout</code>、<code>setInterval</code>、IO操作等。</li> <li><strong>微任务（Micro Tasks）</strong>：如 <code>Promise</code> 回调、<code>process.nextTick</code>（Node.js）等。</li></ul> <h4 id="执行顺序"><a href="#执行顺序" class="header-anchor">#</a> 执行顺序</h4> <ol><li>执行栈上的同步任务依次执行。</li> <li>当执行栈为空，事件循环检查微任务队列。</li> <li>所有微任务执行完毕后，检查宏任务队列。</li> <li>重复步骤2和3，直到执行栈和回调队列为空。</li></ol> <h4 id="性能优化"><a href="#性能优化" class="header-anchor">#</a> 性能优化</h4> <ul><li>避免长时间运行的同步任务，以免阻塞执行栈。</li> <li>合理安排异步任务，利用事件循环提高程序响应性。</li></ul> <h4 id="实际应用"><a href="#实际应用" class="header-anchor">#</a> 实际应用</h4> <ul><li>使用 <code>setTimeout</code> 和 <code>setInterval</code> 进行延时和周期性任务。</li> <li>利用 <code>Promise</code> 和 <code>async/await</code> 处理异步逻辑。</li></ul> <h4 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h4> <ul><li>微任务优先于宏任务执行，影响事件循环的顺序。</li> <li>过多的回调函数可能导致性能问题，如回调地狱。</li></ul> <h2 id="reference-类型"><a href="#reference-类型" class="header-anchor">#</a> Reference 类型</h2> <h4 id="reference-类型概述"><a href="#reference-类型概述" class="header-anchor">#</a> Reference 类型概述</h4> <ul><li>Reference 类型是ECMAScript规范中用于描述变量与其底层对象或函数之间的绑定关系。</li> <li>它由基对象（base object）、属性名（property name）和严格引用（strict reference）组成。</li></ul> <h4 id="reference-的作用"><a href="#reference-的作用" class="header-anchor">#</a> Reference 的作用</h4> <ul><li>Reference 用于确定变量访问的是内存中的哪个对象或值。</li> <li>在函数调用中，Reference 影响 <code>this</code> 关键字的绑定。</li></ul> <h4 id="创建-reference"><a href="#创建-reference" class="header-anchor">#</a> 创建 Reference</h4> <ul><li>通过变量名访问对象的属性时创建 Reference。</li> <li>例如，<code>var value = obj.property;</code> 中 <code>value</code> 是一个 Reference。</li></ul> <h4 id="让-reference-失效"><a href="#让-reference-失效" class="header-anchor">#</a> 让 Reference 失效</h4> <ul><li>重新赋值：将变量赋值为 <code>null</code> 或另一个对象的属性。</li> <li>删除属性：从对象中删除属性。</li> <li>覆盖属性：在对象上重新定义同名属性。</li> <li>使用 <code>delete</code> 关键字：删除变量。</li></ul> <h4 id="示例分析"><a href="#示例分析" class="header-anchor">#</a> 示例分析</h4> <div class="language- extra-class"><pre class="language-text"><code>var value = 1;
var foo = {
  value: 2,
  bar: function () {
    return this.value;
  }
}

var c =1
function bar1() {this.c}
bar1()

// 示例1
console.log(foo.bar()); // 2

// 示例2
console.log((foo.bar)()); // 2

// 示例3
console.log((foo.bar = foo.bar)()); // 1

// 示例4
console.log((false || foo.bar)()); // 1

// 示例5
console.log((foo.bar, foo.bar)()); // 1
</code></pre></div><h3 id="其他规范类型简介"><a href="#其他规范类型简介" class="header-anchor">#</a> 其他规范类型简介</h3> <h4 id="list-类型"><a href="#list-类型" class="header-anchor">#</a> List 类型</h4> <ul><li>List 类型通常用于表示一组值，如数组或参数列表。</li></ul> <h4 id="completion-类型"><a href="#completion-类型" class="header-anchor">#</a> Completion 类型</h4> <ul><li>Completion 类型描述代码执行的结果，包括正常完成（normal）、异常完成（throw）、返回值等。</li></ul> <h4 id="property-descriptor-类型"><a href="#property-descriptor-类型" class="header-anchor">#</a> Property Descriptor 类型</h4> <ul><li>Property Descriptor 类型是一个对象，包含属性的元数据，如值、可写性、可枚举性、可配置性等。</li></ul> <h4 id="lexical-environment-类型"><a href="#lexical-environment-类型" class="header-anchor">#</a> Lexical Environment 类型</h4> <ul><li>Lexical Environment 类型用于存储和管理变量和函数声明，与作用域相关联。</li></ul> <h2 id="javascript-事件流"><a href="#javascript-事件流" class="header-anchor">#</a> JavaScript 事件流</h2> <h4 id="事件流模型"><a href="#事件流模型" class="header-anchor">#</a> 事件流模型</h4> <p>事件流描述了事件在DOM中的传播方式，主要分为以下三个阶段：</p> <ol><li><p><strong>捕获阶段（Capture Phase）</strong>：</p> <ul><li>事件从<code>document</code>对象开始，向目标元素传播。</li> <li>在这个阶段，事件处理程序可以捕获事件，但通常不推荐在此阶段处理事件。</li></ul></li> <li><p><strong>目标阶段（Target Phase）</strong>：</p> <ul><li>事件到达目标元素。</li> <li>这是触发事件的元素，事件处理程序通常在这里执行。</li></ul></li> <li><p><strong>冒泡阶段（Bubble Phase）</strong>：</p> <ul><li>事件从目标元素开始，向<code>document</code>对象传播。</li> <li>这是事件处理的主要阶段，大多数事件处理程序在此阶段添加。</li></ul></li></ol> <h4 id="w3c-标准与-ie-的区别"><a href="#w3c-标准与-ie-的区别" class="header-anchor">#</a> W3C 标准与 IE 的区别</h4> <ul><li><strong>W3C 标准</strong>：支持捕获和冒泡两个阶段。</li> <li><strong>IE 浏览器（IE9 之前）</strong>：只支持冒泡阶段。</li></ul> <h4 id="事件对象及其属性"><a href="#事件对象及其属性" class="header-anchor">#</a> 事件对象及其属性</h4> <p>事件对象包含了有关事件的信息，常用属性包括：</p> <ul><li><p><code>event.target</code>：</p> <ul><li>触发事件的实际元素。</li> <li>无论事件在哪个阶段，<code>event.target</code>始终不变。</li></ul></li> <li><p><code>event.currentTarget</code>：</p> <ul><li>当前正在处理事件的元素。</li> <li>在事件处理程序中，<code>event.currentTarget</code>始终是绑定事件处理程序的元素。</li></ul></li> <li><p><code>event.stopPropagation()</code>：</p> <ul><li>阻止事件继续传播（冒泡或捕获）。</li> <li>可以阻止事件到达目标阶段或冒泡阶段。</li></ul></li> <li><p><code>event.preventDefault()</code>：</p> <ul><li>阻止事件的默认行为（如表单提交、链接跳转等）。</li> <li>只能在事件的目标阶段调用。</li></ul></li></ul> <h4 id="添加事件监听器-addeventlistener"><a href="#添加事件监听器-addeventlistener" class="header-anchor">#</a> 添加事件监听器（addEventListener）</h4> <p>使用<code>addEventListener</code>方法可以指定事件处理程序在捕获阶段还是冒泡阶段执行：</p> <ul><li>第三个参数为<code>true</code>时，在捕获阶段执行。</li> <li>第三个参数为<code>false</code>（默认值）时，在冒泡阶段执行。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 事件处理程序</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 捕获阶段</span>

element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 事件处理程序</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 冒泡阶段</span>
</code></pre></div><h3 id="vue中对应修饰符"><a href="#vue中对应修饰符" class="header-anchor">#</a> vue中对应修饰符</h3> <ol><li><strong>.stop</strong>：
<ul><li>阻止事件冒泡。</li> <li>示例：<code>@click.stop=&quot;handleClick&quot;</code></li> <li>等价于：<code>@click=&quot;event =&gt; { event.stopPropagation(); handleClick(event) }&quot;</code></li></ul></li> <li><strong>.prevent</strong>：
<ul><li>阻止事件的默认行为。</li> <li>示例：<code>@submit.prevent=&quot;handleSubmit&quot;</code></li> <li>等价于：<code>@submit=&quot;event =&gt; { event.preventDefault(); handleSubmit(event) }&quot;</code></li></ul></li> <li><strong>.capture</strong>：
<ul><li>以捕获模式触发事件。</li> <li>示例：<code>@click.capture=&quot;handleClick&quot;</code></li> <li>等价于：<code>@click=&quot;handleClick, true&quot;</code></li></ul></li> <li><strong>.self</strong>：
<ul><li>只有当事件在该元素本身（而不是子元素）触发时才会触发回调。</li> <li>示例：<code>@click.self=&quot;handleClick&quot;</code></li> <li>等价于：<code>@click=&quot;event =&gt; { if (event.target === event.currentTarget) handleClick(event) }&quot;</code></li></ul></li> <li><strong>.once</strong>：
<ul><li>事件监听器只触发一次。</li> <li>示例：<code>@click.once=&quot;handleClick&quot;</code></li> <li>等价于：<code>@click=&quot;() =&gt; { handleClick(); $off('click') }&quot;</code></li></ul></li> <li><strong>.exact</strong>：
<ul><li>组合修饰符（<code>.ctrl</code>、<code>.alt</code>、<code>.shift</code>、<code>.meta</code>）时，要求所有组合的键都必须按下。</li> <li>示例：<code>@click.ctrl.exact=&quot;handleClick&quot;</code></li> <li>等价于：<code>@click=&quot;event =&gt; { if (event.ctrlKey &amp;&amp; !event.altKey &amp;&amp; !event.shiftKey &amp;&amp; !event.metaKey) handleClick(event) }&quot;</code></li></ul></li> <li><strong>.left</strong>、<strong>.right</strong>、<strong>.middle</strong>：
<ul><li>用于监听鼠标左键、右键和中键的点击事件。</li> <li>示例：<code>@click.left=&quot;handleLeftClick&quot;</code></li></ul></li> <li><strong>.passive</strong>：
<ul><li>告诉浏览器你不想阻止事件的默认行为，可以提高滚动性能。</li> <li>示例：<code>@scroll.passive=&quot;handleScroll&quot;</code></li></ul></li></ol> <h2 id="函数柯里化"><a href="#函数柯里化" class="header-anchor">#</a> 函数柯里化</h2> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">curried</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> fn<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>nextArgs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">curried</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>nextArgs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 用法</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span>
<span class="token keyword">const</span> curriedAdd <span class="token operator">=</span> <span class="token function">curry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>


<span class="token keyword">function</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">curried</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> fn<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">curried</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>args2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 示例函数</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 柯里化后的函数</span>
<span class="token keyword">const</span> curriedAdd <span class="token operator">=</span> <span class="token function">curry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 调用示例</span>
<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: 6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: 6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: 6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: 6</span>
</code></pre></div><h5 id="react高级组件"><a href="#react高级组件" class="header-anchor">#</a> react高级组件</h5> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> withLogger<span class="token operator">&lt;</span><span class="token constant">P</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Wrapped<span class="token operator">:</span> React<span class="token punctuation">.</span>ComponentType<span class="token operator">&lt;</span><span class="token constant">P</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> displayName <span class="token operator">=</span> Wrapped<span class="token punctuation">.</span>displayName <span class="token operator">||</span> Wrapped<span class="token punctuation">.</span>name <span class="token operator">||</span> <span class="token string">'Component'</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token literal-property property">ComponentWithLogger</span><span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span><span class="token constant">P</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[Log] </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>displayName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> props:</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>Wrapped <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  ComponentWithLogger<span class="token punctuation">.</span>displayName <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">withLogger(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>displayName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> ComponentWithLogger<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/PurpleFish_Blog/assets/js/app.ff8256e3.js" defer></script><script src="/PurpleFish_Blog/assets/js/2.43a24c62.js" defer></script><script src="/PurpleFish_Blog/assets/js/1.6ee28ae7.js" defer></script><script src="/PurpleFish_Blog/assets/js/52.37cbc86f.js" defer></script>
  </body>
</html>
